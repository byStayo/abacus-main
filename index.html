<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Abacus Wealth Group - Systematic capital allocation through quantitative strategies engineered for long-term wealth preservation.">
    <meta name="keywords" content="quantitative investing, algorithmic trading, factor investing, systematic strategies, wealth management">
    <meta name="author" content="Abacus Wealth Group">
    <!-- Open Graph / Social -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://abacuswealthgroup.com/">
    <meta property="og:title" content="Abacus Wealth Group | Quantitative Investment Strategies">
    <meta property="og:description" content="Systematic capital allocation through quantitative strategies engineered for long-term wealth preservation.">
    <meta property="og:image" content="https://abacuswealthgroup.com/og-image.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Abacus Wealth Group">
    <meta name="twitter:description" content="Data-driven investment strategies built on quantitative rigor and systematic risk management.">
    <title>Abacus Wealth Group | Quantitative Investment Strategies</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <!-- Google Fonts - Institutional Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Newsreader:ital,wght@0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
    <!-- TradingView Lightweight Charts -->
    <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        /* ============ CSS RESET & VARIABLES ============ */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --navy-deep: #0a1628;
            --navy-medium: #1a2744;
            --slate-blue: #3d5a80;
            --slate-light: #5d7a9a;
            --steel-gray: #6b7d8d;
            --steel-light: #8a9bab;
            --white: #ffffff;
            --off-white: #f7f8f9;
            --cream: #fafbfc;
            --black: #0d1117;
            --text-primary: #1a1a2e;
            --text-secondary: #4a5568;
            --text-muted: #718096;
            --accent-gold: #b8860b;
            --green: #059669;
            --red: #dc2626;
            --border-light: rgba(0, 0, 0, 0.06);

            --font-serif: 'Newsreader', Georgia, 'Times New Roman', serif;
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            --font-mono: 'SF Mono', 'Fira Code', 'Monaco', 'Consolas', monospace;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-sans);
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--white);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }

        /* ============ TYPOGRAPHY ============ */
        h1, h2, h3 {
            font-family: var(--font-serif);
            font-weight: 500;
            line-height: 1.2;
            letter-spacing: -0.01em;
        }

        h4, h5, h6 {
            font-family: var(--font-sans);
            font-weight: 600;
            line-height: 1.3;
        }

        h1 { font-size: clamp(2.75rem, 6vw, 4.5rem); }
        h2 { font-size: clamp(2rem, 4vw, 3rem); }
        h3 { font-size: clamp(1.5rem, 2.5vw, 1.875rem); }

        /* ============ LIVE TICKER BAR ============ */
        .ticker-bar {
            background: var(--navy-deep);
            color: var(--white);
            overflow: hidden;
            height: 44px;
            display: flex;
            align-items: center;
            position: relative;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ticker-track {
            display: flex;
            animation: ticker-scroll 40s linear infinite;
            white-space: nowrap;
        }

        .ticker-track:hover {
            animation-play-state: paused;
        }

        @keyframes ticker-scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

        .ticker-item {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 0 32px;
            font-size: 13px;
            font-family: var(--font-mono);
            letter-spacing: 0.02em;
        }

        .ticker-symbol {
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
        }

        .ticker-price {
            color: rgba(255, 255, 255, 0.6);
        }

        .ticker-change {
            font-weight: 500;
        }

        .ticker-change.up { color: #4ade80; }
        .ticker-change.down { color: #f87171; }

        .ticker-status {
            position: absolute;
            right: 16px;
            font-size: 9px;
            color: rgba(255, 255, 255, 0.35);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-family: var(--font-sans);
        }

        /* ============ NAVIGATION ============ */
        nav {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.97);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border-light);
            transition: all 0.3s ease;
        }

        nav.scrolled {
            box-shadow: 0 1px 24px rgba(0, 0, 0, 0.06);
        }

        .nav-container {
            max-width: 1440px;
            margin: 0 auto;
            padding: 0 48px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 76px;
        }

        .logo {
            font-family: var(--font-sans);
            font-size: 15px;
            font-weight: 600;
            letter-spacing: 0.2em;
            color: var(--navy-deep);
            text-decoration: none;
            text-transform: uppercase;
        }

        .nav-links {
            display: flex;
            gap: 48px;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 0.02em;
            transition: color 0.2s;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--navy-deep);
        }

        .nav-cta {
            padding: 11px 24px;
            background: var(--navy-deep);
            color: var(--white) !important;
            border-radius: 3px;
            font-size: 12px;
            letter-spacing: 0.04em;
            transition: all 0.2s !important;
        }

        .nav-cta:hover {
            background: var(--navy-medium);
        }

        /* ============ HERO SECTION ============ */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            background: #0a1628;
        }

        /* Matterhorn Background Image */
        .hero-mountain {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 0;
            background-image: url('https://images.unsplash.com/photo-1519681393784-d120267933ba?w=1920&q=85');
            background-size: cover;
            background-position: center 40%;
            will-change: transform, opacity;
        }

        /* Light overlay - let the mountain show through */
        .hero-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1;
            background: linear-gradient(
                180deg,
                rgba(255, 255, 255, 0.3) 0%,
                rgba(255, 255, 255, 0.15) 50%,
                rgba(255, 255, 255, 0.4) 80%,
                rgba(255, 255, 255, 0.95) 100%
            );
            pointer-events: none;
        }

        /* Bottom fade to next section */
        .hero::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 20%;
            background: linear-gradient(0deg, var(--cream) 0%, transparent 100%);
            pointer-events: none;
            z-index: 2;
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            color: var(--navy-deep);
            padding: 0 24px;
            max-width: 900px;
            margin-top: -8vh;
        }

        .hero-tagline {
            font-family: var(--font-sans);
            font-size: 11px;
            letter-spacing: 0.35em;
            text-transform: uppercase;
            opacity: 0.7;
            margin-bottom: 28px;
            font-weight: 600;
        }

        .hero h1 {
            margin-bottom: 28px;
            text-shadow: 0 2px 20px rgba(255, 255, 255, 0.5);
            font-weight: 500;
            font-style: italic;
        }

        .hero-subtitle {
            font-family: var(--font-sans);
            font-size: 1.125rem;
            opacity: 0.85;
            max-width: 580px;
            margin: 0 auto 48px;
            line-height: 1.8;
            font-weight: 500;
        }

        .hero-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .hero-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 16px 32px;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 0.04em;
            border-radius: 3px;
            text-decoration: none;
            transition: all 0.3s ease;
            font-family: var(--font-sans);
        }

        .hero-btn-primary {
            background: var(--navy-deep);
            color: var(--white);
        }

        .hero-btn-primary:hover {
            background: var(--navy-medium);
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .hero-btn-secondary {
            background: rgba(10, 22, 40, 0.1);
            border: 1px solid var(--navy-deep);
            color: var(--navy-deep);
        }

        .hero-btn-secondary:hover {
            background: rgba(10, 22, 40, 0.2);
            border-color: var(--navy-medium);
        }

        /* Scroll indicator */
        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
            opacity: 0.4;
            animation: float 3s ease-in-out infinite;
        }

        .scroll-indicator::before {
            content: '';
            display: block;
            width: 1px;
            height: 48px;
            background: linear-gradient(180deg, transparent 0%, rgba(10,22,40,0.4) 100%);
        }

        @keyframes float {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }

        /* ============ SECTIONS ============ */
        section {
            padding: 120px 48px;
        }

        .section-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 80px;
        }

        .section-label {
            font-family: var(--font-sans);
            font-size: 11px;
            letter-spacing: 0.25em;
            text-transform: uppercase;
            color: var(--slate-blue);
            margin-bottom: 16px;
            font-weight: 600;
        }

        .section-header h2 {
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .section-desc {
            font-family: var(--font-serif);
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
            font-size: 1.125rem;
            line-height: 1.8;
        }

        /* ============ MARKET DATA SECTION ============ */
        .market-data {
            background: var(--cream);
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 28px;
        }

        .chart-card {
            background: var(--white);
            border: 1px solid var(--border-light);
            border-radius: 4px;
            padding: 28px;
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(24px);
            overflow: hidden;
        }

        .chart-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .chart-card:hover {
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.08);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .chart-title {
            font-family: var(--font-sans);
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
            letter-spacing: 0.02em;
        }

        .chart-subtitle {
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 3px;
            letter-spacing: 0.04em;
        }

        .chart-value {
            text-align: right;
        }

        .chart-price {
            font-size: 22px;
            font-weight: 600;
            font-family: var(--font-mono);
            color: var(--text-primary);
            letter-spacing: -0.02em;
        }

        .chart-change {
            font-size: 12px;
            font-family: var(--font-mono);
            margin-top: 2px;
        }

        .chart-change.up { color: var(--green); }
        .chart-change.down { color: var(--red); }

        .chart-container {
            height: 180px;
            margin: 0 -12px;
            position: relative;
            overflow: hidden;
        }

        .chart-container > div:first-child {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        /* ============ FUND PREVIEW SECTION ============ */
        .fund-preview {
            background: var(--white);
        }

        .fund-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 32px;
        }

        .fund-card {
            background: var(--white);
            border: 1px solid var(--border-light);
            border-radius: 4px;
            padding: 36px;
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(24px);
        }

        .fund-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .fund-card:hover {
            border-color: var(--slate-blue);
            box-shadow: 0 16px 56px rgba(0, 0, 0, 0.1);
            transform: translateY(-6px);
        }

        .fund-card.visible:hover {
            transform: translateY(-6px);
        }

        .fund-tag {
            display: inline-block;
            padding: 5px 14px;
            background: var(--cream);
            border-radius: 2px;
            font-size: 10px;
            font-weight: 600;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .fund-tag.reactive { background: rgba(184, 134, 11, 0.1); color: var(--accent-gold); }
        .fund-tag.defensive { background: rgba(61, 90, 128, 0.1); color: var(--slate-blue); }
        .fund-tag.growth { background: rgba(5, 150, 105, 0.1); color: var(--green); }

        .fund-card h3 {
            font-family: var(--font-serif);
            color: var(--text-primary);
            margin-bottom: 14px;
            font-size: 1.75rem;
            font-weight: 500;
        }

        .fund-card > p {
            font-family: var(--font-sans);
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.7;
            margin-bottom: 28px;
        }

        .fund-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            padding-top: 24px;
            border-top: 1px solid var(--border-light);
            margin-bottom: 28px;
        }

        .fund-metric {
            text-align: center;
        }

        .fund-metric-value {
            font-size: 20px;
            font-weight: 600;
            font-family: var(--font-mono);
            color: var(--text-primary);
            letter-spacing: -0.02em;
        }

        .fund-metric-value.positive { color: var(--green); }

        .fund-metric-label {
            font-size: 9px;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-top: 6px;
        }

        .fund-link {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 24px;
            background: var(--navy-deep);
            color: var(--white);
            text-decoration: none;
            font-size: 12px;
            font-weight: 500;
            letter-spacing: 0.04em;
            border-radius: 3px;
            transition: all 0.2s;
        }

        .fund-link:hover {
            background: var(--navy-medium);
        }

        .fund-link svg {
            transition: transform 0.2s;
        }

        .fund-link:hover svg {
            transform: translateX(4px);
        }

        /* ============ ANALYTICS TOOLS SECTION ============ */
        .tools-section {
            background: var(--navy-deep);
            color: var(--white);
        }

        .tools-section .section-label {
            color: var(--slate-light);
        }

        .tools-section .section-header h2 {
            color: var(--white);
        }

        .tools-section .section-desc {
            color: rgba(255, 255, 255, 0.7);
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
        }

        .tool-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            padding: 32px;
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(24px);
            text-decoration: none;
            color: var(--white);
            display: block;
        }

        .tool-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .tool-card:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-4px);
        }

        .tool-card.visible:hover {
            transform: translateY(-4px);
        }

        .tool-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--slate-blue) 0%, var(--navy-medium) 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }

        .tool-icon svg {
            width: 24px;
            height: 24px;
            stroke: var(--white);
        }

        .tool-card h3 {
            font-family: var(--font-serif);
            font-size: 1.25rem;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--white);
        }

        .tool-card .tool-subtitle {
            font-size: 11px;
            color: var(--slate-light);
            margin-bottom: 16px;
            letter-spacing: 0.04em;
        }

        .tool-card p {
            font-size: 14px;
            line-height: 1.7;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 20px;
        }

        .tool-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 500;
            color: var(--white);
            opacity: 0.8;
            transition: all 0.2s;
        }

        .tool-link:hover {
            opacity: 1;
        }

        .tool-link svg {
            transition: transform 0.2s;
        }

        .tool-card:hover .tool-link svg {
            transform: translateX(4px);
        }

        /* ============ RESEARCH FEED SECTION ============ */
        .research-feed {
            background: var(--cream);
        }

        .research-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 28px;
        }

        .research-card {
            display: block;
            background: var(--white);
            border: 1px solid var(--border-light);
            border-radius: 4px;
            padding: 28px;
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(24px);
            text-decoration: none;
            color: inherit;
            cursor: pointer;
        }

        .research-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .research-card:hover {
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.08);
            transform: translateY(-4px);
        }

        .research-card.visible:hover {
            transform: translateY(-4px);
        }

        .research-category {
            font-size: 9px;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--slate-blue);
            margin-bottom: 14px;
        }

        .research-card h3 {
            font-family: var(--font-serif);
            font-size: 17px;
            color: var(--text-primary);
            margin-bottom: 14px;
            line-height: 1.4;
            font-weight: 500;
        }

        .research-card p {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 20px;
        }

        .research-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
            color: var(--text-muted);
            padding-top: 16px;
            border-top: 1px solid var(--border-light);
        }

        .research-cta {
            text-align: center;
            margin-top: 60px;
        }

        .btn-outline {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 16px 32px;
            border: 1px solid var(--navy-deep);
            color: var(--navy-deep);
            text-decoration: none;
            font-size: 13px;
            font-weight: 500;
            letter-spacing: 0.04em;
            border-radius: 3px;
            transition: all 0.2s;
        }

        .btn-outline:hover {
            background: var(--navy-deep);
            color: var(--white);
        }

        /* ============ FOOTER ============ */
        footer {
            background: var(--navy-deep);
            color: rgba(255, 255, 255, 0.65);
            padding: 100px 48px 48px;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer-top {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 80px;
            padding-bottom: 80px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .footer-brand {
            max-width: 320px;
        }

        .footer-logo {
            font-family: var(--font-sans);
            font-size: 14px;
            font-weight: 600;
            letter-spacing: 0.2em;
            color: var(--white);
            margin-bottom: 24px;
        }

        .footer-brand p {
            font-size: 14px;
            line-height: 1.8;
            font-family: var(--font-serif);
        }

        .footer-column h4 {
            color: var(--white);
            font-size: 10px;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            margin-bottom: 24px;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column li {
            margin-bottom: 14px;
        }

        .footer-column a {
            color: rgba(255, 255, 255, 0.5);
            text-decoration: none;
            font-size: 14px;
            transition: color 0.2s;
        }

        .footer-column a:hover {
            color: var(--white);
        }

        .footer-bottom {
            padding-top: 48px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 48px;
        }

        .footer-legal {
            font-size: 11px;
            line-height: 1.9;
            max-width: 720px;
            color: rgba(255, 255, 255, 0.35);
        }

        .footer-copyright {
            font-size: 11px;
            white-space: nowrap;
            color: rgba(255, 255, 255, 0.35);
        }

        /* ============ MOBILE MENU ============ */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
        }

        .menu-toggle span {
            display: block;
            width: 22px;
            height: 2px;
            background: var(--navy-deep);
            margin: 5px 0;
            transition: all 0.3s;
        }

        .menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -5px);
        }

        /* Scroll to Top Button */
        .scroll-top {
            position: fixed;
            bottom: 32px;
            right: 32px;
            width: 48px;
            height: 48px;
            background: var(--navy-deep);
            color: var(--white);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: all 0.3s ease;
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .scroll-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .scroll-top:hover {
            background: var(--slate-blue);
            transform: translateY(-4px);
        }

        .scroll-top svg {
            width: 20px;
            height: 20px;
        }

        /* Chart Loading State */
        .chart-loading {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 180px;
            color: var(--text-muted);
            font-size: 13px;
            background: var(--white);
            z-index: 1;
        }

        .chart-loading.hidden {
            display: none;
        }

        .chart-loading::after {
            content: '';
            width: 24px;
            height: 24px;
            border: 2px solid var(--border-light);
            border-top-color: var(--slate-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 12px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ============ RESPONSIVE ============ */
        @media (max-width: 1024px) {
            .charts-grid,
            .fund-cards,
            .tools-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .research-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .footer-top {
                grid-template-columns: 1fr 1fr;
                gap: 48px;
            }
        }

        @media (max-width: 768px) {
            section {
                padding: 80px 24px;
            }

            .ticker-bar {
                height: 40px;
            }

            .ticker-item {
                padding: 0 20px;
                font-size: 12px;
            }

            .nav-container {
                padding: 0 24px;
            }

            .nav-links {
                display: none;
                position: absolute;
                top: 76px;
                left: 0;
                right: 0;
                background: var(--white);
                flex-direction: column;
                padding: 24px;
                gap: 0;
                border-bottom: 1px solid var(--border-light);
            }

            .nav-links.active {
                display: flex;
            }

            .nav-links li {
                padding: 14px 0;
                border-bottom: 1px solid var(--cream);
            }

            .nav-links li:last-child {
                border-bottom: none;
                padding-top: 24px;
            }

            .menu-toggle {
                display: block;
            }

            .charts-grid,
            .fund-cards,
            .research-grid,
            .tools-grid {
                grid-template-columns: 1fr;
            }

            .footer-top {
                grid-template-columns: 1fr;
                gap: 40px;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }

            .hero {
                min-height: 80vh;
            }

            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }

            .scroll-indicator {
                display: none;
            }
        }

        /* ============ ANIMATIONS ============ */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-content {
            animation: fadeInUp 1.2s ease 0.2s both;
        }

        .mountain-far { animation: fadeInUp 1.5s ease 0s both; }
        .mountain-mid { animation: fadeInUp 1.5s ease 0.15s both; }
        .mountain-front { animation: fadeInUp 1.5s ease 0.3s both; }
    </style>
</head>
<body>
    <!-- Live Ticker Bar -->
    <div class="ticker-bar">
        <div class="ticker-track" id="tickerTrack"></div>
        <span class="ticker-status" id="tickerStatus">Loading...</span>
    </div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">Abacus</a>
            <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links" id="navLinks">
                <li><a href="philosophy.html">Philosophy</a></li>
                <li><a href="research.html">Research</a></li>
                <li><a href="funds.html">Funds</a></li>
                <li><a href="#tools" onclick="document.querySelector('.tools-section').scrollIntoView({behavior: 'smooth'}); return false;">Tools</a></li>
                <li><a href="https://games.abacuswealthgroup.com/" target="_blank">Abacus Games</a></li>
                <li><a href="https://algo.abacuswealthgroup.com/" class="nav-cta" target="_blank">View Performance</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="hero">
        <div class="hero-mountain" id="heroMountain"></div>
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <p class="hero-tagline">Quantitative Investment Management</p>
            <h1>Disciplined Capital Allocation</h1>
            <p class="hero-subtitle">Data-driven investment strategies built on quantitative rigor and systematic risk management. Engineered for long-term wealth preservation.</p>
            <div class="hero-buttons">
                <a href="philosophy.html" class="hero-btn hero-btn-primary">Our Philosophy</a>
                <a href="funds.html" class="hero-btn hero-btn-secondary">
                    View Strategies
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 8h10M9 4l4 4-4 4"/>
                    </svg>
                </a>
            </div>
        </div>
        <div class="scroll-indicator"></div>
    </section>

    <!-- Market Data Section -->
    <section class="market-data">
        <div class="section-container">
            <div class="section-header">
                <p class="section-label">Market Overview</p>
                <h2>Live Market Data</h2>
                <p class="section-desc">Real-time market indicators and index performance across major asset classes.</p>
            </div>
            <div class="charts-grid">
                <div class="chart-card">
                    <div class="chart-header">
                        <div>
                            <div class="chart-title">S&P 500</div>
                            <div class="chart-subtitle">SPY ETF</div>
                        </div>
                        <div class="chart-value">
                            <div class="chart-price" id="spy-price">--</div>
                            <div class="chart-change" id="spy-change">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="spy-chart"><div class="chart-loading">Loading</div></div>
                </div>
                <div class="chart-card">
                    <div class="chart-header">
                        <div>
                            <div class="chart-title">NASDAQ 100</div>
                            <div class="chart-subtitle">QQQ ETF</div>
                        </div>
                        <div class="chart-value">
                            <div class="chart-price" id="qqq-price">--</div>
                            <div class="chart-change" id="qqq-change">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="qqq-chart"><div class="chart-loading">Loading</div></div>
                </div>
                <div class="chart-card">
                    <div class="chart-header">
                        <div>
                            <div class="chart-title">Volatility Index</div>
                            <div class="chart-subtitle">VIX</div>
                        </div>
                        <div class="chart-value">
                            <div class="chart-price" id="vix-price">--</div>
                            <div class="chart-change" id="vix-change">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="vix-chart"><div class="chart-loading">Loading</div></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Fund Preview Section -->
    <section class="fund-preview">
        <div class="section-container">
            <div class="section-header">
                <p class="section-label">Investment Strategies</p>
                <h2>Fund Performance</h2>
                <p class="section-desc">Systematic strategies designed to generate risk-adjusted returns across market environments.</p>
            </div>
            <div class="fund-cards">
                <div class="fund-card">
                    <span class="fund-tag reactive">Multi-Asset</span>
                    <h3>OMNI</h3>
                    <p>Multi-asset momentum strategy with dynamic allocation across global markets. Designed to capture trends while limiting drawdowns through systematic rebalancing.</p>
                    <div class="fund-metrics">
                        <div class="fund-metric">
                            <div class="fund-metric-value positive">+125.9%</div>
                            <div class="fund-metric-label">YTD Return</div>
                        </div>
                        <div class="fund-metric">
                            <div class="fund-metric-value">1.92</div>
                            <div class="fund-metric-label">Sharpe Ratio</div>
                        </div>
                        <div class="fund-metric">
                            <div class="fund-metric-value">-25.1%</div>
                            <div class="fund-metric-label">Max Drawdown</div>
                        </div>
                    </div>
                    <a href="https://algo.abacuswealthgroup.com/" class="fund-link" target="_blank">
                        View Performance
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 8h10M9 4l4 4-4 4"/>
                        </svg>
                    </a>
                </div>
                <div class="fund-card">
                    <span class="fund-tag defensive">Defensive</span>
                    <h3>SHIELD</h3>
                    <p>Capital preservation strategy optimized for volatile markets. Emphasizes downside protection with systematic hedging and volatility targeting protocols.</p>
                    <div class="fund-metrics">
                        <div class="fund-metric">
                            <div class="fund-metric-value positive">+18.9%</div>
                            <div class="fund-metric-label">YTD Return</div>
                        </div>
                        <div class="fund-metric">
                            <div class="fund-metric-value">1.26</div>
                            <div class="fund-metric-label">Sharpe Ratio</div>
                        </div>
                        <div class="fund-metric">
                            <div class="fund-metric-value">-7.1%</div>
                            <div class="fund-metric-label">Max Drawdown</div>
                        </div>
                    </div>
                    <a href="https://algo.abacuswealthgroup.com/" class="fund-link" target="_blank">
                        View Performance
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 8h10M9 4l4 4-4 4"/>
                        </svg>
                    </a>
                </div>
                <div class="fund-card">
                    <span class="fund-tag growth">Factor-Based</span>
                    <h3>ALPHA</h3>
                    <p>Factor-based equity strategy targeting systematic alpha through exposure to proven return drivers: value, momentum, quality, and low volatility.</p>
                    <div class="fund-metrics">
                        <div class="fund-metric">
                            <div class="fund-metric-value positive">+49.6%</div>
                            <div class="fund-metric-label">YTD Return</div>
                        </div>
                        <div class="fund-metric">
                            <div class="fund-metric-value">1.01</div>
                            <div class="fund-metric-label">Sharpe Ratio</div>
                        </div>
                        <div class="fund-metric">
                            <div class="fund-metric-value">-40.0%</div>
                            <div class="fund-metric-label">Max Drawdown</div>
                        </div>
                    </div>
                    <a href="https://algo.abacuswealthgroup.com/" class="fund-link" target="_blank">
                        View Performance
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 8h10M9 4l4 4-4 4"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Analytics Tools Section -->
    <section class="tools-section">
        <div class="section-container">
            <div class="section-header">
                <p class="section-label">Analytics Platform</p>
                <h2>Quantitative Tools</h2>
                <p class="section-desc">Professional-grade analytics tools for data-driven investment decisions.</p>
            </div>
            <div class="tools-grid">
                <a href="https://abacus-fed.netlify.app" class="tool-card" target="_blank">
                    <div class="tool-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 3v18h18"/>
                            <path d="M18 17V9"/>
                            <path d="M13 17V5"/>
                            <path d="M8 17v-3"/>
                        </svg>
                    </div>
                    <h3>FedPredict</h3>
                    <div class="tool-subtitle">by Abacus Wealth Group</div>
                    <p>Federal Reserve economic predictions using neural networks. CPI, employment, and interest rate forecasts.</p>
                    <span class="tool-link">
                        Launch Tool
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 8h10M9 4l4 4-4 4"/>
                        </svg>
                    </span>
                </a>
                <a href="https://abacus-radar.netlify.app" class="tool-card" target="_blank">
                    <div class="tool-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 2a15 15 0 0 0 0 20"/>
                            <path d="M12 2a15 15 0 0 1 0 20"/>
                            <path d="M2 12h20"/>
                        </svg>
                    </div>
                    <h3>Money Flow Radar</h3>
                    <div class="tool-subtitle">by Abacus Wealth Group</div>
                    <p>Real-time capital flow analytics. Track global flows, predict turning points, and monitor liquidity indices.</p>
                    <span class="tool-link">
                        Launch Tool
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 8h10M9 4l4 4-4 4"/>
                        </svg>
                    </span>
                </a>
                <a href="https://abacus-buffett.netlify.app" class="tool-card" target="_blank">
                    <div class="tool-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
                        </svg>
                    </div>
                    <h3>Buffett Meter</h3>
                    <div class="tool-subtitle">by Abacus Wealth Group</div>
                    <p>Value investing analysis powered by Warren Buffett's wisdom. Stock analysis and economic indicators.</p>
                    <span class="tool-link">
                        Launch Tool
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 8h10M9 4l4 4-4 4"/>
                        </svg>
                    </span>
                </a>
                <a href="https://abacus-flow.netlify.app" class="tool-card" target="_blank">
                    <div class="tool-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M22 12h-4l-3 9L9 3l-3 9H2"/>
                        </svg>
                    </div>
                    <h3>FLOW Capital</h3>
                    <div class="tool-subtitle">by Abacus Wealth Group</div>
                    <p>Comprehensive capital flow intelligence. Sector rotation, entity tracking, and predictive analytics.</p>
                    <span class="tool-link">
                        Launch Tool
                        <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 8h10M9 4l4 4-4 4"/>
                        </svg>
                    </span>
                </a>
            </div>
        </div>
    </section>

    <!-- Research Feed Section -->
    <section class="research-feed">
        <div class="section-container">
            <div class="section-header">
                <p class="section-label">Research & Insights</p>
                <h2>Latest Research</h2>
                <p class="section-desc">Deep analysis and thought leadership from our quantitative research team.</p>
            </div>
            <div class="research-grid">
                <a href="research/momentum-decay.html" class="research-card">
                    <div class="research-category">Factor Analysis</div>
                    <h3>Momentum Decay in Rising Rate Environments</h3>
                    <p>An examination of how traditional momentum factors perform during Federal Reserve tightening cycles.</p>
                    <div class="research-meta">
                        <span>January 2026</span>
                        <span>8 min read</span>
                    </div>
                </a>
                <a href="research/tail-risk-hedging.html" class="research-card">
                    <div class="research-category">Risk Management</div>
                    <h3>Tail Risk Hedging Strategies</h3>
                    <p>Cost-effective approaches to portfolio insurance using options and dynamic allocation.</p>
                    <div class="research-meta">
                        <span>December 2025</span>
                        <span>12 min read</span>
                    </div>
                </a>
                <a href="research/cross-asset-correlations.html" class="research-card">
                    <div class="research-category">Macro Signals</div>
                    <h3>Cross-Asset Correlations During Regime Changes</h3>
                    <p>How correlation structures break down during market stress and implications for diversification.</p>
                    <div class="research-meta">
                        <span>November 2025</span>
                        <span>10 min read</span>
                    </div>
                </a>
                <a href="research/liquidity-dynamics.html" class="research-card">
                    <div class="research-category">Market Structure</div>
                    <h3>Liquidity Dynamics in Modern Markets</h3>
                    <p>Understanding market microstructure changes and their impact on execution quality.</p>
                    <div class="research-meta">
                        <span>October 2025</span>
                        <span>15 min read</span>
                    </div>
                </a>
            </div>
            <div class="research-cta">
                <a href="research.html" class="btn-outline">
                    View All Research
                    <svg width="14" height="14" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 8h10M9 4l4 4-4 4"/>
                    </svg>
                </a>
            </div>
        </div>
    </section>

    <!-- Scroll to Top Button -->
    <button class="scroll-top" id="scrollTop" aria-label="Scroll to top">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 15l-6-6-6 6"/>
        </svg>
    </button>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-top">
                <div class="footer-brand">
                    <div class="footer-logo">Abacus</div>
                    <p>Quantitative investment strategies engineered for long-term wealth preservation. We combine rigorous data analysis with systematic execution.</p>
                </div>
                <div class="footer-column">
                    <h4>Company</h4>
                    <ul>
                        <li><a href="philosophy.html">Philosophy</a></li>
                        <li><a href="research.html">Research</a></li>
                        <li><a href="funds.html">Funds</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Resources</h4>
                    <ul>
                        <li><a href="https://algo.abacuswealthgroup.com/" target="_blank">Algorithm Performance</a></li>
                        <li><a href="https://games.abacuswealthgroup.com/" target="_blank">Abacus Games</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Contact</h4>
                    <ul>
                        <li><a href="mailto:info@abacuswealthgroup.com">info@abacuswealthgroup.com</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-legal">
                    This website is for informational purposes only and does not constitute an offer to sell or a solicitation of an offer to buy any securities. Past performance is not indicative of future results. All investments involve risk, including the possible loss of principal. The information contained herein is not intended to provide, and should not be relied upon for, accounting, legal, or tax advice. Abacus Wealth Group is a registered investment adviser.
                </p>
                <p class="footer-copyright">&copy; 2026 Abacus Wealth Group</p>
            </div>
        </div>
    </footer>

    <script>
        // ============ CONFIGURATION ============
        const FINNHUB_API_KEY = 'd4cjee1r01qudf6ik80gd4cjee1r01qudf6ik810';
        const USE_LIVE_DATA = FINNHUB_API_KEY !== 'YOUR_FINNHUB_API_KEY';

        // ============ TICKER DATA ============
        const tickerSymbols = [
            { symbol: 'SPY', name: 'S&P 500' },
            { symbol: 'QQQ', name: 'NASDAQ' },
            { symbol: 'DIA', name: 'Dow Jones' },
            { symbol: 'IWM', name: 'Russell 2000' },
            { symbol: 'GLD', name: 'Gold' },
            { symbol: 'TLT', name: 'Bonds' },
            { symbol: 'VIX', name: 'Volatility' }
        ];

        const simulatedData = {
            SPY: { price: 598.45, change: 1.23, pct: 0.21 },
            QQQ: { price: 521.78, change: 2.15, pct: 0.41 },
            DIA: { price: 438.92, change: -0.87, pct: -0.20 },
            IWM: { price: 224.15, change: 0.95, pct: 0.43 },
            GLD: { price: 242.30, change: 1.45, pct: 0.60 },
            TLT: { price: 87.45, change: -0.32, pct: -0.36 },
            VIX: { price: 14.25, change: -0.45, pct: -3.06 }
        };

        // ============ PARALLAX EFFECT ============
        function initParallax() {
            const heroMountain = document.getElementById('heroMountain');
            const hero = document.querySelector('.hero');
            const heroContent = document.querySelector('.hero-content');

            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const heroHeight = hero.offsetHeight;
                const scrollPercent = Math.min(scrolled / (heroHeight * 0.6), 1);

                if (scrolled < heroHeight) {
                    // Parallax: mountain moves slower than scroll (elegant effect)
                    const yPos = scrolled * 0.4;
                    heroMountain.style.transform = `translateY(${yPos}px) scale(${1 + scrollPercent * 0.1})`;

                    // Fade out mountain as you scroll
                    const opacity = 1 - (scrollPercent * 1.2);
                    heroMountain.style.opacity = Math.max(0, opacity);

                    // Subtle content parallax
                    heroContent.style.transform = `translateY(${scrolled * 0.2}px)`;
                    heroContent.style.opacity = 1 - (scrollPercent * 0.8);
                }
            }, { passive: true });
        }

        // ============ SCROLL ANIMATIONS ============
        function initScrollAnimations() {
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.15
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 80);
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.chart-card, .fund-card, .research-card').forEach(el => {
                observer.observe(el);
            });
        }

        // ============ INITIALIZE TICKER ============
        function initTicker() {
            const track = document.getElementById('tickerTrack');
            const status = document.getElementById('tickerStatus');

            function renderTicker(data) {
                let html = '';
                for (let i = 0; i < 2; i++) {
                    tickerSymbols.forEach(item => {
                        const quote = data[item.symbol];
                        if (quote) {
                            const isUp = quote.change >= 0;
                            html += `
                                <div class="ticker-item">
                                    <span class="ticker-symbol">${item.symbol}</span>
                                    <span class="ticker-price">$${quote.price.toFixed(2)}</span>
                                    <span class="ticker-change ${isUp ? 'up' : 'down'}">
                                        ${isUp ? '+' : ''}${quote.change.toFixed(2)} (${isUp ? '+' : ''}${quote.pct.toFixed(2)}%)
                                    </span>
                                </div>
                            `;
                        }
                    });
                }
                track.innerHTML = html;
            }

            if (USE_LIVE_DATA) {
                async function fetchLiveData() {
                    try {
                        const quotes = {};
                        await Promise.all(tickerSymbols.map(async (item) => {
                            const res = await fetch(`https://finnhub.io/api/v1/quote?symbol=${item.symbol}&token=${FINNHUB_API_KEY}`);
                            const data = await res.json();
                            if (data.c) {
                                quotes[item.symbol] = {
                                    price: data.c,
                                    change: data.d || 0,
                                    pct: data.dp || 0
                                };
                            }
                        }));
                        renderTicker(quotes);
                        status.textContent = 'Live';
                        status.style.color = '#4ade80';
                        localStorage.setItem('tickerData', JSON.stringify(quotes));
                    } catch (error) {
                        const cached = localStorage.getItem('tickerData');
                        if (cached) {
                            renderTicker(JSON.parse(cached));
                            status.textContent = 'Cached';
                        } else {
                            renderTicker(simulatedData);
                            status.textContent = 'Delayed';
                        }
                    }
                }
                fetchLiveData();
                setInterval(fetchLiveData, 60000);
            } else {
                renderTicker(simulatedData);
                status.textContent = 'Demo';
            }
        }

        // ============ INITIALIZE CHARTS ============
        function initCharts() {
            const chartConfigs = [
                { id: 'spy-chart', priceId: 'spy-price', changeId: 'spy-change', symbol: 'SPY', color: '#059669' },
                { id: 'qqq-chart', priceId: 'qqq-price', changeId: 'qqq-change', symbol: 'QQQ', color: '#3d5a80' },
                { id: 'vix-chart', priceId: 'vix-price', changeId: 'vix-change', symbol: 'VIX', color: '#b8860b' }
            ];

            chartConfigs.forEach(config => {
                const container = document.getElementById(config.id);
                if (!container) return;

                // Hide loading indicator
                const loadingEl = container.querySelector('.chart-loading');
                if (loadingEl) loadingEl.classList.add('hidden');

                const chart = LightweightCharts.createChart(container, {
                    width: container.clientWidth,
                    height: 180,
                    layout: {
                        background: { type: 'solid', color: 'transparent' },
                        textColor: '#718096'
                    },
                    grid: {
                        vertLines: { visible: false },
                        horzLines: { color: 'rgba(0, 0, 0, 0.04)' }
                    },
                    crosshair: {
                        mode: LightweightCharts.CrosshairMode.Normal
                    },
                    rightPriceScale: {
                        borderVisible: false,
                        scaleMargins: { top: 0.15, bottom: 0.1 }
                    },
                    timeScale: {
                        borderVisible: false,
                        timeVisible: false
                    },
                    handleScroll: false,
                    handleScale: false
                });

                const areaSeries = chart.addAreaSeries({
                    topColor: config.color + '30',
                    bottomColor: config.color + '05',
                    lineColor: config.color,
                    lineWidth: 2
                });

                const data = generateChartData(config.symbol);
                areaSeries.setData(data);

                const lastPoint = data[data.length - 1];
                const firstPoint = data[0];
                const priceEl = document.getElementById(config.priceId);
                const changeEl = document.getElementById(config.changeId);

                if (priceEl && lastPoint) {
                    priceEl.textContent = config.symbol === 'VIX' ?
                        lastPoint.value.toFixed(2) :
                        '$' + lastPoint.value.toFixed(2);
                }

                if (changeEl && lastPoint && firstPoint) {
                    const change = ((lastPoint.value - firstPoint.value) / firstPoint.value) * 100;
                    const isUp = change >= 0;
                    changeEl.textContent = `${isUp ? '+' : ''}${change.toFixed(2)}%`;
                    changeEl.className = `chart-change ${isUp ? 'up' : 'down'}`;
                }

                window.addEventListener('resize', () => {
                    chart.applyOptions({ width: container.clientWidth });
                });
            });
        }

        function generateChartData(symbol) {
            const data = [];
            const now = new Date();
            const basePrices = { SPY: 580, QQQ: 510, VIX: 16 };
            let price = basePrices[symbol] || 100;
            const volatility = symbol === 'VIX' ? 0.03 : 0.008;

            for (let i = 30; i >= 0; i--) {
                const date = new Date(now);
                date.setDate(date.getDate() - i);
                if (date.getDay() === 0 || date.getDay() === 6) continue;
                const change = (Math.random() - 0.48) * volatility * price;
                price += change;
                data.push({
                    time: date.toISOString().split('T')[0],
                    value: price
                });
            }
            return data;
        }

        // ============ NAVIGATION ============
        const navbar = document.getElementById('navbar');
        const scrollTop = document.getElementById('scrollTop');

        window.addEventListener('scroll', () => {
            navbar.classList.toggle('scrolled', window.scrollY > 50);
            scrollTop.classList.toggle('visible', window.scrollY > 500);
        });

        // Scroll to top
        scrollTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Mobile menu toggle with hamburger animation
        const menuToggle = document.getElementById('menuToggle');
        const navLinks = document.getElementById('navLinks');
        menuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });

        // ============ INITIALIZE ============
        document.addEventListener('DOMContentLoaded', () => {
            initParallax();
            initScrollAnimations();
            initTicker();
            initCharts();
        });
    </script>
</body>
</html>
